
<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0">
        <title>Liteee的世界尽头</title>
        <meta name="author" content="Liteee">
        <meta name="description" content="这仅仅是暮色中的幻想，一睁眼水泡即杳然逝去，有的只是兽的蹄音，小镇仍一如往常。">
        <meta name="keywords" content="游戏">
        <link rel="icon" href="Avator.png">
        <script src="https://cdn.staticfile.org/instant.page/5.1.0/instantpage.min.js" type="module"></script>
        <script src="https://cdn.staticfile.org/font-awesome/6.2.0/js/all.min.js"></script>
        
        <link rel="stylesheet" href="/css/fonts.min.css">
        <link rel="stylesheet" href="/css/particlex.css">
        
        <script src="https://cdn.staticfile.org/vue/3.2.33/vue.global.prod.min.js"></script>
    <meta name="generator" content="Hexo 6.3.0"></head>
    <body>
        <div id="loading" style="height:100vh;width:100vw;position:fixed;display:flex;z-index:200;justify-content:space-between;background:#fff;transition:opacity 0.3s ease-out"><div style="position:fixed;height:100vh;width:100vw;display:flex;justify-content:center;align-items:center"><div id="loadcontent" style="width:50vmin;height:50vmin;padding:50px;border-radius:50%;display:flex;justify-content:center;align-items:center;border:solid 10px #a3ddfb;text-align:center"><div><h2>LOADING...</h2><p style="word-break:keep-all">加载过慢请开启缓存(浏览器默认开启)</p><div><img alt="loading" src="/loading.gif"></div></div></div></div></div>
        <div id="layout">
            <i data-fa-symbol="calendar-solid" class="fa-solid fa-calendar fa-fw"></i>
            <i data-fa-symbol="bookmark-solid" class="fa-solid fa-bookmark fa-fw"></i>
            <i data-fa-symbol="tags-solid" class="fa-solid fa-tags fa-fw"></i>
            <transition name="into">
                <div v-show="show_page" style="display: -not-none">
                    <div id="menu_show">
                         
<nav id="menu">
    <div class="desktop-menu">
        <a href="/">
            <span class="title">Liteee的世界尽头</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;about</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;tags</span>
        </a>
        
    </div>
    <div :class="'phone-menu ' + menu_show" id="phone-menu">
        <div class="curtain" @click="menu_show = !menu_show" v-show="menu_show"></div>
        <div :class="'title'" @click="menu_show = !menu_show">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;Liteee的世界尽头</span>
        </div>
        <transition name="slide">
        <div class="items" v-show="menu_show">
            
            <a href="/">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-house fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">home</div>
                </div>
            </a>
            
            <a href="/about">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-id-card fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">about</div>
                </div>
            </a>
            
            <a href="/archives">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-box-archive fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">archives</div>
                </div>
            </a>
            
            <a href="/categories">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-bookmark fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">categories</div>
                </div>
            </a>
            
            <a href="/tags">
                <div class="item">
                    <div style="min-width: 20px; max-width: 50px; width: 10%">
                        <i class="fa-solid fa-tags fa-fw"></i>
                    </div>
                    <div style="min-width: 100px; max-width: 150%; width: 20%">tags</div>
                </div>
            </a>
            
        </div>
        </transition>
    </div>
</nav>
                    </div>
                    <div id="main">
                        <div id="home-head">
    <div id="home-background" style="background-image: url(home.jpg)"></div>
    
    <div id="home-info" class="home-info" @click="home_click">
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="info">
            <div class="wrap">
                <h1>Liteee的世界尽头</h1>
                <h3>--  </h3>
                <h5>这仅仅是暮色中的幻想，一睁眼水泡即杳然逝去，有的只是兽的蹄音，小镇仍一如往常。</h5>
            </div>
        </span>
    </div>
    
</div>

<div id="home-posts-wrap" class="">
    <div id="home-posts">
        <div id="posts">
            

<div class="post">
    <a href="/2022/09/17/力扣/基础竞赛语法/">
        <h2 class="post-title"></h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <svg class="fa-icon"><use xlink:href="#calendar-solid"></use></svg>
            </span>
            2022/9/17
        </span>
    </div>
    <div class="excerpt">
        <div class="content" v-pre>
            
            <h1 id="竞赛常用语法归档"><a href="#竞赛常用语法归档" class="headerlink" title="竞赛常用语法归档"></a>竞赛常用语法归档</h1><h2 id="归档原因"><a href="#归档原因" class="headerlink" title="归档原因"></a>归档原因</h2><p>学艺不精，切换使用的语言的频率比较高，经常出现语法混乱的情况</p>
<h1 id="归档方式"><a href="#归档方式" class="headerlink" title="归档方式"></a>归档方式</h1><p>整理自己掌握一门语言的基本方式</p>
<h2 id="竞赛语言"><a href="#竞赛语言" class="headerlink" title="竞赛语言"></a>竞赛语言</h2><pre><code>1.基础语法（循环+类型定义）
2.数组，字符串，
3.特殊列表？（例如PYTHON中元组和字典的区别
4.哈希
5.树结构
6.基于语言特性，归档一些语法在运行速度上的差异
（例如C++中subtr()跟string_view 的效率区别）
</code></pre>
<h2 id="开发语言"><a href="#开发语言" class="headerlink" title="开发语言"></a>开发语言</h2><pre><code>1.基础语法（循环+类型定义）
2.面向对象
3.数组（用数组可以实现大部分数据结构）
4.文件操作
5.内存管理+异常处理
final.开发组件
</code></pre>

            
        </div>
    </div>
    <div class="post-tags">
        
        
    </div>
    <a href="/2022/09/17/力扣/基础竞赛语法/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2022/09/17/力扣/JAVA开发语法整理/">
        <h2 class="post-title"></h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <svg class="fa-icon"><use xlink:href="#calendar-solid"></use></svg>
            </span>
            2022/9/17
        </span>
    </div>
    <div class="excerpt">
        <div class="content" v-pre>
            
            <h1 id="JAVA"><a href="#JAVA" class="headerlink" title="JAVA"></a>JAVA</h1><h2 id="1-基础语法（循环-类型定义）"><a href="#1-基础语法（循环-类型定义）" class="headerlink" title="1.基础语法（循环+类型定义）"></a>1.基础语法（循环+类型定义）</h2><p>基础打印</p>
<pre><code>System.out.println(&quot;基本类型：byte 二进制位数：&quot; + Byte.SIZE);
</code></pre>
<p>八个基础类型</p>
<pre><code>boolean(8位 1字节)
byte(8位 1字节)
char(16位 2字节)
short(16位 2字节) 
int(32位 4字节) 
long(64位 8字节) 
double(64位 8字节)
赋值语法与C++一致
</code></pre>
<p>类型定义</p>
<h2 id="2-面向对象"><a href="#2-面向对象" class="headerlink" title="2.面向对象"></a>2.面向对象</h2><h2 id="3-数组（用数组可以实现大部分数据结构）"><a href="#3-数组（用数组可以实现大部分数据结构）" class="headerlink" title="3.数组（用数组可以实现大部分数据结构）"></a>3.数组（用数组可以实现大部分数据结构）</h2><h2 id="4-文件操作"><a href="#4-文件操作" class="headerlink" title="4.文件操作"></a>4.文件操作</h2><h2 id="5-内存管理-异常处理"><a href="#5-内存管理-异常处理" class="headerlink" title="5.内存管理+异常处理"></a>5.内存管理+异常处理</h2><h2 id="final-开发组件"><a href="#final-开发组件" class="headerlink" title="final.开发组件"></a>final.开发组件</h2>
            
        </div>
    </div>
    <div class="post-tags">
        
        
    </div>
    <a href="/2022/09/17/力扣/JAVA开发语法整理/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2022/09/17/HADOOPCLASS/CLASS02 HDFS/01HDFS基础理论和面试题/">
        <h2 class="post-title"></h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <svg class="fa-icon"><use xlink:href="#calendar-solid"></use></svg>
            </span>
            2022/9/17
        </span>
    </div>
    <div class="excerpt">
        <div class="content" v-pre>
            
            <h1 id="HDFS"><a href="#HDFS" class="headerlink" title="HDFS"></a>HDFS</h1><p>HDFS（Hadoop Distributed File System），是一种分布式文件管理系统</p>
<h2 id="一、性质"><a href="#一、性质" class="headerlink" title="一、性质"></a>一、性质</h2><h3 id="优点："><a href="#优点：" class="headerlink" title="优点："></a>优点：</h3><pre><code>1.高容错，多副本
2.处理数据规模大
3.可以构建在廉价机器上，不怕出问题
</code></pre>
<p>HDFS的使用场景：适合一次写入，多次读出的场景。</p>
<h3 id="缺点："><a href="#缺点：" class="headerlink" title="缺点："></a>缺点：</h3><pre><code>1.不适合低延迟访问
2.不适合存储小文件（占用NN资源，寻址时间超过读取时间）
3.不支持并发写入（一文件一线程
4.不支持随机修改（只能支持追加append
</code></pre>
<h2 id="二、组成架构"><a href="#二、组成架构" class="headerlink" title="二、组成架构"></a>二、组成架构</h2><h3 id="1-NN"><a href="#1-NN" class="headerlink" title="1.NN"></a>1.NN</h3><pre><code>1.管理HDFS命名空间
2.管理副本策略
3.数据块映射
4.处理客户端请求
</code></pre>
<h3 id="2-DN"><a href="#2-DN" class="headerlink" title="2.DN"></a>2.DN</h3><pre><code>1.接受NN命令，存数据，读写数据
</code></pre>
<h3 id="3-Client"><a href="#3-Client" class="headerlink" title="3.Client"></a>3.Client</h3><pre><code>1.文件切分，在文件上传HDFS之前完成
2.与NN交互→文件位置
3.与DN交互→存取
4.部分管理功能，如格式化NN
5.部分HDFS增删改查功能
</code></pre>
<h3 id="4-2NN"><a href="#4-2NN" class="headerlink" title="4.2NN"></a>4.2NN</h3><pre><code>1.定期合并Fsimage和Edits，推送至NN
2.紧急情况下可用于恢复NN（期间的数据可能会损失）
3.考点：不完全是NN的备份
</code></pre>
<h1 id="HDFS面试题"><a href="#HDFS面试题" class="headerlink" title="HDFS面试题"></a>HDFS面试题</h1><p><img src="/2022-09-06-22-09-30.png"><br><img src="/2022-09-06-22-09-47.png"></p>

            
        </div>
    </div>
    <div class="post-tags">
        
        
    </div>
    <a href="/2022/09/17/HADOOPCLASS/CLASS02 HDFS/01HDFS基础理论和面试题/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2022/09/17/HADOOPCLASS/CLASS01/centos命令表/">
        <h2 class="post-title"></h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <svg class="fa-icon"><use xlink:href="#calendar-solid"></use></svg>
            </span>
            2022/9/17
        </span>
    </div>
    <div class="excerpt">
        <div class="content" v-pre>
            
            <h1 id="命令表"><a href="#命令表" class="headerlink" title="命令表"></a>命令表</h1><h2 id="一、基础命令"><a href="#一、基础命令" class="headerlink" title="一、基础命令"></a>一、基础命令</h2><pre><code>1、pwd：定位当前工作的绝对目录
2、touch：创建文件
3、cat：查看文件
4、vi：编辑文件
5、vim：编辑文件（基于安装了vim编辑器）
6、mkdir：创建目录
7、rmdir：删除目录（只能删除空目录）
8、rm：删除文件或目录（-f 强制删除）
9、reboot：重启系统
10、shutdown：关闭系统
11、init0：关闭系统（init命令可改变系统运行级别）
12、date：显示或设置系统时间
13、man：查询命令手册
14、cd：改变工作目录
15、chkconfig：检查、设置系统各项服务
16、ls：显示当前目录的内容
17、who：显示在线用户信息
18、su：切换用户
19、head：显示文件开头
20、tail：显示文件末尾
21、more：文本过滤
22、grep：文本搜索
23、locate：查找符合条件的文档
24、whereis：查找二进制代码、源代码、man手册的位置
25、sort：文本排序
26、rcp：复制远程系统文件到本地
27、scp：用于两linux主机间的CP
28、wc：统计文件字数
29、dir：显示目录、文件
30、telnet：远程登录
31、route：显示并设置linux系统路由表
32、traceroute：显示数据包到主机的路径
33、free：显示内存状态
34、ps：显示当前进程状态
35、top：显示实时进程状态
36、kill：系统进程杀灭
37、sudo：给予部分普通用户root权限
38、halt：若系统运行级别在0~6，则可以关闭系统
39、sleep：指定当前动作的延迟时间
40、exit：返回上级shell
41、logrotate：对系统日志就行轮转、压缩、删除
42、clear：清屏
43、crontab：提交和管理用户需要周期性执行的任务
44、tar：备份归档压缩
45、gzip：压缩一个文件
46、zip：压缩目录、文件
47、dump：备份文件系统
48、chmod：修改权限（读r4、写w2、执行x1）（u用户、g用户组、o其他用户）
49、ll、查看权限
</code></pre>
<h2 id="二、基本配置地址"><a href="#二、基本配置地址" class="headerlink" title="二、基本配置地址"></a>二、基本配置地址</h2><pre><code>1、永久挂载目录         /etc/fstab
2、安装包位置            /mnt/cdrom/packages/
3、永久网关配置地址  /etc/sysconfig/network
4、网络配置地址        /etc/sysconfig/network-scripts/ifcfg-eth0
5、关于网络命令        service  network （restart重启、stop停止、start启动）
6、本地主机名解析地址/etc/hosts
7、本地域名解析地址 /etc/resolv
8、脚本编辑地址       /etc/sysconfig/network-soripts
</code></pre>
<h2 id="三、常用命令（基于root用户下）"><a href="#三、常用命令（基于root用户下）" class="headerlink" title="三、常用命令（基于root用户下）"></a>三、常用命令（基于root用户下）</h2><pre><code>1、软件安装命令       yum install -y (软件名)
2、用户添加命令      useradd （-g指定用户组、-u指定UID、-p指定密码、-d指定宿主目录）
3、删除用户命令      userdel  （-f强制删除、-r删除该用户全部信息）
4、修改用户信息      usermod （-d修改宿主目录、-e修改有效期、-l修改用户名、-L锁定用户、-U解除锁定）
5、添加用户组         groupadd（-g指定GID、-f强制执行）
6、查询软件安装：   rpm -aq|grep 软件名
7、selinux运行状态查询   getenforce
</code></pre>

            
        </div>
    </div>
    <div class="post-tags">
        
        
    </div>
    <a href="/2022/09/17/HADOOPCLASS/CLASS01/centos命令表/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2022/09/17/HADOOPCLASS/CLASS01/08 HADOOP的简单总结和整合/">
        <h2 class="post-title"></h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <svg class="fa-icon"><use xlink:href="#calendar-solid"></use></svg>
            </span>
            2022/9/17
        </span>
    </div>
    <div class="excerpt">
        <div class="content" v-pre>
            
            <h1 id="完成上述配置后的服务器状态"><a href="#完成上述配置后的服务器状态" class="headerlink" title="完成上述配置后的服务器状态"></a>完成上述配置后的服务器状态</h1><h2 id="1-权限问题"><a href="#1-权限问题" class="headerlink" title="1.权限问题"></a>1.权限问题</h2><p>我将lite为hadoop启动相关的账户，使用相关功能时需要</p>
<pre><code>su lite
</code></pre>
<p>root用户在编辑bin相关的脚本，以及用xsync分发相关脚本时需要切换使用</p>
<pre><code>su root
</code></pre>
<h2 id="2-基础操作"><a href="#2-基础操作" class="headerlink" title="2.基础操作"></a>2.基础操作</h2><p>集群的启动的和关闭，由&#x2F;home&#x2F;lite&#x2F;bin&#x2F;myhadoop完成</p>
<pre><code>myhadoop.sh start
myhadoop.sh stop
</code></pre>
<p>在hadoop运行时，如果需要动态地删除节点功能</p>
<pre><code>kill -9 端口号即可
</code></pre>
<p>在hadoop运行时，如果需要单独地恢复节点</p>
<p>（1）分别启动&#x2F;停止HDFS组件</p>
<pre><code>hdfs --daemon start/stop namenode/datanode/secondarynamenode
</code></pre>
<p>（2）启动&#x2F;停止YARN</p>
<pre><code>yarn --daemon start/stop  resourcemanager/nodemanager
</code></pre>
<p>（3）myhadoop内已经集成的过时指令</p>
<h2 id="3-常用端口号"><a href="#3-常用端口号" class="headerlink" title="3.常用端口号"></a>3.常用端口号</h2><p>HDFS NameNode:</p>
<pre><code>HD3.X:8020 / 9000/9820
HD2.X:8020 / 9000
</code></pre>
<p>NameNode HTTP UI:</p>
<pre><code>HD3.X:9870
HD2.X:50070
</code></pre>
<p>MapReduce查看任务执行窗口</p>
<pre><code>8088
</code></pre>
<p>历史服务器通信端口</p>
<pre><code>19888
</code></pre>
<p>常用配置文件：<br>core-site hdfs-site yarn-site mapred-site workers</p>
<h2 id="4-整理之前的各个配置文件"><a href="#4-整理之前的各个配置文件" class="headerlink" title="4.整理之前的各个配置文件"></a>4.整理之前的各个配置文件</h2><p>1.脚本配置</p>
<pre><code>/home/lite/bin/myhadoop路径下

xsync：分发脚本
myhadoop：群体操作脚本
jpsall：集体jps脚本
</code></pre>
<p>2.hadoop配置文件</p>
<pre><code>/opt/module/had../etc/hadoop/bin
</code></pre>

            
        </div>
    </div>
    <div class="post-tags">
        
        
    </div>
    <a href="/2022/09/17/HADOOPCLASS/CLASS01/08 HADOOP的简单总结和整合/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2022/09/17/HADOOPCLASS/CLASS01/06.启动+再初始化+历史服务器/">
        <h2 class="post-title"></h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <svg class="fa-icon"><use xlink:href="#calendar-solid"></use></svg>
            </span>
            2022/9/17
        </span>
    </div>
    <div class="excerpt">
        <div class="content" v-pre>
            
            <h1 id="1-启动"><a href="#1-启动" class="headerlink" title="1.启动"></a>1.启动</h1><p>&#x2F;opt&#x2F;module&#x2F;had..路径下</p>
<h2 id="HDFS初始化命令"><a href="#HDFS初始化命令" class="headerlink" title="HDFS初始化命令"></a>HDFS初始化命令</h2><pre><code>hdfs namenode -format
</code></pre>
<h2 id="HDFS启动命令"><a href="#HDFS启动命令" class="headerlink" title="HDFS启动命令"></a>HDFS启动命令</h2><pre><code>sbin/start-dfs.sh
</code></pre>
<h2 id="Yarn启动命令"><a href="#Yarn启动命令" class="headerlink" title="Yarn启动命令"></a>Yarn启动命令</h2><pre><code>sbin/start-yarn.sh
</code></pre>
<h1 id="WEB页面入口"><a href="#WEB页面入口" class="headerlink" title="WEB页面入口"></a>WEB页面入口</h1><p>NAMENOD数据信息E:<a target="_blank" rel="noopener" href="http://hadoop102:9870/">http://hadoop102:9870</a></p>
<p>YARN任务信息:<a target="_blank" rel="noopener" href="http://hadoop103:8088/">http://hadoop103:8088</a></p>
<h1 id="2-Namenode故障处理-x2F-再初始化"><a href="#2-Namenode故障处理-x2F-再初始化" class="headerlink" title="2.Namenode故障处理&#x2F;再初始化"></a>2.Namenode故障处理&#x2F;再初始化</h1><h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><p>1.停止服务 </p>
<pre><code>sbin/stop-dfs.sh
</code></pre>
<p>2.删除log和data文件</p>
<pre><code>hadoop路径下
rm -rf /data /log
</code></pre>
<p>3.重新初始化</p>
<pre><code>hdfs namenode -format
</code></pre>
<h2 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h2><p><img src="/2022-09-04-14-44-05.png"><br>在初始化后 NamespaceId和族群ID都产生变化<br>旧的data和log文件不能匹配</p>
<p>似乎可以通过修改ID来解决？</p>
<h1 id="3-配置历史服务器"><a href="#3-配置历史服务器" class="headerlink" title="3.配置历史服务器"></a>3.配置历史服务器</h1><p>hadoop内<br>配置文件：mapred-site.xml</p>
<pre><code>    &lt;!-- 历史服务器端地址 --&gt;
&lt;property&gt;
    &lt;name&gt;mapreduce.jobhistory.address&lt;/name&gt;
    &lt;value&gt;hadoop102:10020&lt;/value&gt;
&lt;/property&gt;

&lt;!-- 历史服务器web端地址 --&gt;
&lt;property&gt;
    &lt;name&gt;mapreduce.jobhistory.webapp.address&lt;/name&gt;
    &lt;value&gt;hadoop102:19888&lt;/value&gt;
&lt;/property&gt;
</code></pre>
<h2 id="NameNode出现重复的BUG"><a href="#NameNode出现重复的BUG" class="headerlink" title="NameNode出现重复的BUG"></a>NameNode出现重复的BUG</h2><p>启动时出现Namnode重复，要求杀死进程</p>
<p>关闭时出现</p>
<pre><code>NodeManager did not stop gracefully after 5 seconds: kill
</code></pre>
<p>出错原因是，启动dfs后，依旧在102上启动yarn。全部关闭后在103上启动即可解决</p>
<h2 id="历史服务器的开启和关闭"><a href="#历史服务器的开启和关闭" class="headerlink" title="历史服务器的开启和关闭"></a>历史服务器的开启和关闭</h2><pre><code>mapred --daemon start historyserver
mapred --daemon stop historyserver
</code></pre>
<p>其中mapred –daemon是控制单节点启动关闭的命令</p>
<h2 id="历史服务器的查看窗口"><a href="#历史服务器的查看窗口" class="headerlink" title="历史服务器的查看窗口"></a>历史服务器的查看窗口</h2><pre><code>http://hadoop102:19888/jobhistory
</code></pre>
<h1 id="4-配置聚集日志"><a href="#4-配置聚集日志" class="headerlink" title="4.配置聚集日志"></a>4.配置聚集日志</h1><p>我</p>

            
        </div>
    </div>
    <div class="post-tags">
        
        
    </div>
    <a href="/2022/09/17/HADOOPCLASS/CLASS01/06.启动+再初始化+历史服务器/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2022/09/17/HADOOPCLASS/CLASS01/05-1网络配置和一个BUG/">
        <h2 class="post-title"></h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <svg class="fa-icon"><use xlink:href="#calendar-solid"></use></svg>
            </span>
            2022/9/17
        </span>
    </div>
    <div class="excerpt">
        <div class="content" v-pre>
            
            <h1 id="虚拟机挂起再开之后网卡失效问题"><a href="#虚拟机挂起再开之后网卡失效问题" class="headerlink" title="虚拟机挂起再开之后网卡失效问题"></a>虚拟机挂起再开之后网卡失效问题</h1><p>确认静态网络配置无误，ifconfig找不到网卡en33，网卡无法正常启动。网络服务无法重启。</p>
<p>报错</p>
<pre><code>Job for network.service failed because the control process exited with error code. See &quot;systemctl status network.service&quot; and &quot;journalctl -xe&quot; for details.
</code></pre>
<p>朴素的解决办法-重启</p>
<h2 id="重新确认网络配置"><a href="#重新确认网络配置" class="headerlink" title="重新确认网络配置"></a>重新确认网络配置</h2><p>确认配置信息以供下次使用</p>
<p>1.host映射</p>
<p>2.网卡</p>

            
        </div>
    </div>
    <div class="post-tags">
        
        
    </div>
    <a href="/2022/09/17/HADOOPCLASS/CLASS01/05-1网络配置和一个BUG/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2022/09/17/HADOOPCLASS/CLASS01/05 Hadoop核心配置文件/">
        <h2 class="post-title"></h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <svg class="fa-icon"><use xlink:href="#calendar-solid"></use></svg>
            </span>
            2022/9/17
        </span>
    </div>
    <div class="excerpt">
        <div class="content" v-pre>
            
            <h1 id="核心配置"><a href="#核心配置" class="headerlink" title="核心配置"></a>核心配置</h1><p>三个服务器配置目标如下<br><img src="/2022-09-04-00-58-25.png"><br>NameNode和SecondaryNameNode不要安装在同一台服务器<br>ResourceManager也很消耗内存，不要和NameNode、SecondaryNameNode配置在同一台机器上。</p>
<h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><p>路径：</p>
<pre><code>$HADOOP_HOME/etc/hadoop
</code></pre>
<h2 id="文件目录："><a href="#文件目录：" class="headerlink" title="文件目录："></a>文件目录：</h2><pre><code>1.core-site.xml
</code></pre>
<p>配置内容</p>
<pre><code>&lt;configuration&gt;
    &lt;!-- 指定NameNode的地址 --&gt;
    &lt;property&gt;
        &lt;name&gt;fs.defaultFS&lt;/name&gt;
        &lt;value&gt;hdfs://hadoop102:8020&lt;/value&gt;
    &lt;/property&gt;

    &lt;!-- 指定hadoop数据的存储目录 --&gt;
    &lt;property&gt;
        &lt;name&gt;hadoop.tmp.dir&lt;/name&gt;
        &lt;value&gt;/opt/module/hadoop-3.1.3/data&lt;/value&gt;
    &lt;/property&gt;

    &lt;!-- 配置HDFS网页登录使用的静态用户为atguigu --&gt;
    &lt;property&gt;
        &lt;name&gt;hadoop.http.staticuser.user&lt;/name&gt;
        &lt;value&gt;atguigu&lt;/value&gt;
    &lt;/property&gt;
&lt;/configuration&gt;
</code></pre>
<ol start="2">
<li></li>
</ol>
<pre><code>2.hdfs-site.xml、

&lt;configuration&gt;
    &lt;!-- nn web端访问地址--&gt;
    &lt;property&gt;
        &lt;name&gt;dfs.namenode.http-address&lt;/name&gt;
        &lt;value&gt;hadoop102:9870&lt;/value&gt;
    &lt;/property&gt;
    &lt;!-- 2nn web端访问地址--&gt;
    &lt;property&gt;
        &lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt;
        &lt;value&gt;hadoop104:9868&lt;/value&gt;
    &lt;/property&gt;
&lt;/configuration&gt;
</code></pre>
<ol start="3">
<li></li>
</ol>
<pre><code>3.yarn-site.xml、
&lt;configuration&gt;
    &lt;!-- 指定MR走shuffle --&gt;
    &lt;property&gt;
        &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;
        &lt;value&gt;mapreduce_shuffle&lt;/value&gt;
    &lt;/property&gt;

    &lt;!-- 指定ResourceManager的地址--&gt;
    &lt;property&gt;
        &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;
        &lt;value&gt;hadoop103&lt;/value&gt;
    &lt;/property&gt;

    &lt;!-- 环境变量的继承 --&gt;
    &lt;property&gt;
        &lt;name&gt;yarn.nodemanager.env-whitelist&lt;/name&gt;
        &lt;value&gt;JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME&lt;/value&gt;
    &lt;/property&gt;
&lt;/configuration&gt;
</code></pre>
<ol start="4">
<li></li>
</ol>
<pre><code>4.mapred-site.xml
&lt;configuration&gt;
    &lt;!-- 指定MapReduce程序运行在Yarn上 --&gt;
    &lt;property&gt;
        &lt;name&gt;mapreduce.framework.name&lt;/name&gt;
        &lt;value&gt;yarn&lt;/value&gt;
    &lt;/property&gt;
&lt;/configuration&gt;
</code></pre>
<h2 id="！！如果有问题报错在这四个路径再回来找文档"><a href="#！！如果有问题报错在这四个路径再回来找文档" class="headerlink" title="！！如果有问题报错在这四个路径再回来找文档"></a>！！如果有问题报错在这四个路径再回来找文档</h2><h1 id="WORK配置"><a href="#WORK配置" class="headerlink" title="WORK配置"></a>WORK配置</h1><h2 id="hadoop目录下，WORK里无用的机子要删除，并加上需要的服务器"><a href="#hadoop目录下，WORK里无用的机子要删除，并加上需要的服务器" class="headerlink" title="hadoop目录下，WORK里无用的机子要删除，并加上需要的服务器"></a>hadoop目录下，WORK里无用的机子要删除，并加上需要的服务器</h2><p>例如localhost不删除的话</p>
<p>启动时就会加载localhost</p>
<p>报错：</p>
<pre><code>无法获取&quot;/opt/moudle/hadoop-3.1.3/logs/hadoop-root-nodemanager-hadoop103.out.2&quot; 的文件状态(stat): 没有那个文件或目录
</code></pre>

            
        </div>
    </div>
    <div class="post-tags">
        
        
    </div>
    <a href="/2022/09/17/HADOOPCLASS/CLASS01/05 Hadoop核心配置文件/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2022/09/17/HADOOPCLASS/CLASS01/04-SSH/">
        <h2 class="post-title"></h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <svg class="fa-icon"><use xlink:href="#calendar-solid"></use></svg>
            </span>
            2022/9/17
        </span>
    </div>
    <div class="excerpt">
        <div class="content" v-pre>
            
            <h1 id="SSH"><a href="#SSH" class="headerlink" title="SSH"></a>SSH</h1><p>SSH是一种网络协议，用于计算机之间的加密登录。如果一个用户从本地计算机，使用SSH协议登录另一台远程计算机，我们认为这种登录是安全的，即使被中途截获，密码也不会泄露。</p>
<h2 id="SSH目录"><a href="#SSH目录" class="headerlink" title="SSH目录"></a>SSH目录</h2><pre><code>home/lite/.ssh
</code></pre>
<h2 id="ssh生成公钥和私钥"><a href="#ssh生成公钥和私钥" class="headerlink" title="ssh生成公钥和私钥"></a>ssh生成公钥和私钥</h2><pre><code>ssh-keygen -t rsa
参数可以输入，也可以直接回车三次
</code></pre>
<p>会生成两个文件</p>
<pre><code>id_rsa（私钥）、id_rsa.pub（公钥）
</code></pre>
<h2 id="复制公钥到其他机器上"><a href="#复制公钥到其他机器上" class="headerlink" title="复制公钥到其他机器上"></a>复制公钥到其他机器上</h2><pre><code>ssh-copy-id hadoop102（目标机器）

即可完成免密访问
</code></pre>

            
        </div>
    </div>
    <div class="post-tags">
        
        
    </div>
    <a href="/2022/09/17/HADOOPCLASS/CLASS01/04-SSH/" class="go-post">阅读全文</a>
</div>

<div class="post">
    <a href="/2022/09/17/HADOOPCLASS/CLASS01/03集群分发脚本/">
        <h2 class="post-title"></h2>
    </a>
    <div class="category-and-date">
        
        <span class="date">
            <span class="icon">
                <svg class="fa-icon"><use xlink:href="#calendar-solid"></use></svg>
            </span>
            2022/9/17
        </span>
    </div>
    <div class="excerpt">
        <div class="content" v-pre>
            
            <h1 id="xsync集群分发脚本"><a href="#xsync集群分发脚本" class="headerlink" title="xsync集群分发脚本"></a>xsync集群分发脚本</h1><p>服务器之间的数据拷贝</p>
<h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2><pre><code>scp    -[OPTION]        $pdir/$fname           $user@$host:$pdir/$fname
</code></pre>
<p>拷贝示例：</p>
<pre><code>scp -r [源用户/服务器/路径]
[目标源用户/服务器/路径]
</code></pre>
<p>在本机上：</p>
<pre><code>scp -r /opt/module/jdk1.8.0_212  lite@hadoop103:/opt/module
</code></pre>
<p>在某个节点上指名操作其他节点 把module全部粘贴</p>
<pre><code>scp -r lite@hadoop102:/opt/module* lite@hadoop104:/opt
</code></pre>
<h1 id="rsync远程同步工具"><a href="#rsync远程同步工具" class="headerlink" title="rsync远程同步工具"></a>rsync远程同步工具</h1><p>rsync做文件的复制要比scp的速度快，rsync只对差异文件做更新。scp是把所有文件都复制过去。</p>
<h2 id="基本语法-1"><a href="#基本语法-1" class="headerlink" title="基本语法"></a>基本语法</h2><pre><code>rsync    -[a归档拷贝/v显示过程]       $pdir/$fname             $user@$host:$pdir/$fname

命令   选项参数   要拷贝的文件路径/名称   目的地用户@主机:目的地路径/名称
</code></pre>
<p>示例</p>
<pre><code>rsync -av hadoop-3.1.3/ atguigu@hadoop103:/opt/module/hadoop-3.1.3/
</code></pre>
<h1 id="集群分发脚本"><a href="#集群分发脚本" class="headerlink" title="集群分发脚本"></a>集群分发脚本</h1><p>需求：循环复制文件到所有节点的相同目录下</p>
<p>示例：</p>
<p>目标命令：</p>
<pre><code>rsync  -av     /opt/module  		 atguigu@hadoop103:/opt/
</code></pre>
<p>期望脚本：</p>
<pre><code>1.xsync要同步的文件名称
2.在任何路径都能使用
</code></pre>
<p>分发脚本</p>
<pre><code class="Sh">   #!/bin/bash

    #1. 判断参数个数
    if [ $# -lt 1 ]
    then
      echo Not Enough Arguement!
        exit;
    fi

    #2. 遍历集群所有机器
    for host in hadoop102 hadoop103 hadoop104
    do
        echo ====================  $host  ====================
        #3. 遍历所有目录，挨个发送

        for file in $@
        do
            #4. 判断文件是否存在
            if [ -e $file ]
                then
                    #5. 获取父目录
                    pdir=$(cd -P $(dirname $file); pwd)

                    #6. 获取当前文件的名称
                    fname=$(basename $file)
                    ssh $host &quot;mkdir -p $pdir&quot;
                    rsync -av $pdir/$fname $host:$pdir
                else
                    echo $file does not exists!
            fi
        done
    done
</code></pre>
<h1 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式"></a>使用方式</h1><h2 id="1-脚本安装位置"><a href="#1-脚本安装位置" class="headerlink" title="1.脚本安装位置"></a>1.脚本安装位置</h2><p>hadoop102的</p>
<pre><code>/home/lite/bin中
</code></pre>
<p>以及</p>
<pre><code>/bin 中
</code></pre>
<h2 id="2-使用方式"><a href="#2-使用方式" class="headerlink" title="2.使用方式"></a>2.使用方式</h2><p>脚本完成后 在102中使用</p>
<pre><code>sudo xsync（如果用户bin路径下没有就要加上路径） [要同步的文件路径] 
</code></pre>
<p>例如：<br> 在&#x2F;home&#x2F;lite&#x2F;bin中</p>
<pre><code>sudo ./bin/xsync /etc/profile.d/my_env.sh
</code></pre>
<p>则所有集群同步my_env.sh配置文件</p>
<h2 id="3-修改方式"><a href="#3-修改方式" class="headerlink" title="3.修改方式"></a>3.修改方式</h2><pre><code>要取消全局xsync 则在bin中删除该脚本，lite目录下依旧能用

如果要增加机器，就在脚本中增加对应的服务器名字
</code></pre>

            
        </div>
    </div>
    <div class="post-tags">
        
        
    </div>
    <a href="/2022/09/17/HADOOPCLASS/CLASS01/03集群分发脚本/" class="go-post">阅读全文</a>
</div>

             
<div class="page-current">
    <div class="prev">
        
        <a href="/page/3/">
            <span class="page-num">
                <i class="fa-solid fa-caret-left fa-fw"></i>
            </span>
        </a>
        
    </div>
    <div class="page-index">
        
        <span>
            
            <a href="/"><span class="page-num">1</span></a>
            <span class="page-omit">...</span>
            
            
                
                
                <a href="/page/2">
                    <span class="page-num">
                        2
                    </span>
                </a>
                
            
            <a href="/page/3/">
                <span class="page-num">
                    3
                </span>
            </a>
        </span>
        
        <span class="current">
            4
        </span>
        
        <span>
            <a href="/page/5/">
                <span class="page-num">
                    5
                </span>
            </a>
            
            
        </span>
        
    </div>
    <div class="next">
        
        <a href="/page/5/ ">
            <span class="page-num">
                <i class="fa-solid fa-caret-right fa-fw"></i>
            </span>
        </a>
        
    </div>
</div>
        </div>
    </div>
    
    <div id="home-card">
        <div id="card-div">
    <div class="card-style" style="width: 300px">
        <div class="avatar">
            <img src="Avator.png " alt="avatar">
        </div>
        <div class="name">
            Liteee
        </div>
        <div class="descriptions">
            
            <div class="description">
                子弹杯，伏特加，加冰，兑小可可乐。
            </div>
            
        </div>
        <div class="icon-links">
            
            <span class="icon-link">
                <a href="<link-url>">
                    <i class="fa-solid fa-tags fa-fw"></i>
                </a>
            </span>
            
            <span class="icon-link">
                <a href="<link-url>">
                    <i class="fa-solid fa-github fa-fw"></i>
                </a>
            </span>
            
        </div>
        <div class="friend-links">
            
        </div>
    </div>
</div>
    </div>
    
</div>
                         
<footer id="footer">
    <div class="footer-wrap">
        <div>
            © 20xx - 2022 Liteee的世界尽头
            <span class="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            @Liteee
        </div>
        <div></div>
        <div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo Engine</a> & <a
                target="_blank" rel="noopener" href="https://github.com/argvchs/hexo-theme-particlex">ParticleX Theme</a></div>
        
    </div>
</footer>
                    </div>
                </div>
            </transition>
            <div id="img_show">
                <img id="img_content" alt="img_show">
            </div>
        </div>
        <script src="https://cdn.staticfile.org/highlight.js/11.5.1/highlight.min.js"></script>
        <script src="/js/particlex.js"></script>
        <script src="/js/showimg.js"></script>
        

    </body>
</html>